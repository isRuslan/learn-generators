Look sync. Do async.

## Теория
Генераторы позволяют нам скрыть **асинхронность** как деталь реализации
и писать легкий для чтения, поддерживаемый, синхронно-выглядящий код.

Чего-чего?

Генераторы могут **приостановить их выполнение** до тех пор, пока
асинхронные вызовы не завершат свое выполенение.

Например, вы хотите прочитать текущий каталог c помощью `fs.readdir(dir, cb)`
без падения в callback-страну.

```js
var fs = require('fs');

function run (generator) {
  var it = generator(go);

  function go (err, result) {
    it.next(result);
  }

  go();  
}

run(function* (done) {
  // читаем `learn-generators` директорию exercises
  var exercises = yield fs.readdir('exercises', done);
  console.log(exercises); // [ 'look_sync_do_async', ..., 'run_stop_run' ]
});

```
Здесь мы создали генератор, который остановил свое выполнение, подождал
пока функция `readdir` завершит свое выполнение и вернет результат.

Ключевым элементом в этом примере является функция `run`. Что она делает:

**1)** создает новый объект генератор (`it`);
**2)** определяем функцию `go`, которая вызывает `it.next`;
**3)** передаем функцию `go` внутрь объекта-генератора;
**4)** вызываем `go` для того чтобы стартовать генератор.

Всего функция `go` будет вызвана дважды, один раз без аргументов (это запустит
исполнение генератора) и второй раз с результатом вызова `fs`, который нам вернет `yield`.

Если сложно уловить мысль, советуем вставить `console.log` внутри функции
и отследить последовательность вызовов программы.

## Справка
 - http://nodejs.org/api/fs.html#fs_fs_readdir_path_callback
 - http://en.wikipedia.org/wiki/Thunk
 
## Задание
Добавьте обработку ошибку в данный шаблон. Научите `run` выбрасывать исключение
и отлавливать его в функции-генераторе. `firstFile` должен быть равен `null`, 
если он не существует.

**Шаблон решения:**

```js
var fs = require('fs');

function run (generator) {
  // см `run` выше
}

run(function* (done) {
  // исключение
  var dirFiles = yield fs.readdir('NoNoNoNo', done); // нет такой директории
  var firstFile = dirFiles[0]; // TypeError: Cannot read property '0' of undefined
  
  console.log(firstFile);
});
```
